[{"path":"https://matheus-hardt.github.io/unhcrreports/articles/ai-analysis-architecture.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"AI Analysis Architecture","text":"unhcrreports uses modular, three-tier architecture generate “AI Insights” data visualizations. ensures narratives just generic text grounded specific structure statistics plot. Structure: Extracting user sees (axes, legends, titles). Statistics: Profiling data (distributions, correlations). Semantics: Using LLM synthesize story.","code":""},{"path":[]},{"path":"https://matheus-hardt.github.io/unhcrreports/articles/ai-analysis-architecture.html","id":"clean_llm_response","dir":"Articles","previous_headings":"Using Language Models to build data stories","what":"clean_llm_response","title":"AI Analysis Architecture","text":"","code":"response <- \"<think> First, I'm a humanitarian data visualization expert. My role includes extracting insights from visualizations, creating accessible narratives, highlighting patterns relevant to aid efforts, using clear language with emotional resonance. Aligning with constraints: Use plain language, be concise and impactful. Don't rehash every detail; build narrative depth around 2 key insights maximum in under 30 tokens. <\/think> This visualization tracks a relationship potentially critical for humanitarian logistics: higher fuel consumption versus increased weight. 车辆设计\" clean_llm_response(response) #> [1] \"This visualization tracks a relationship potentially critical for humanitarian logistics: higher fuel consumption versus increased weight.\""},{"path":"https://matheus-hardt.github.io/unhcrreports/articles/ai-analysis-architecture.html","id":"three-tier-architecture-for-ai-reporting","dir":"Articles","previous_headings":"","what":"Three-Tier Architecture for AI Reporting","title":"AI Analysis Architecture","text":"AI reporting toolkit uses modular architecture analyze ggplot2 objects generate context-aware narratives. approach ensures description grounded actual visual structure data plot. Phase 1: Structural Extractor (extract_structure) Interrogates rendered plot object (using ggplot_build) retrieve “trained” metadata, exact axis ranges, visible labels, legend mappings. “ground truth” user sees. Phase 2: Statistical Profiler (profile_data) Summarizes underlying data distributions , appropriate (e.g., scatterplots), calculates statistical relationships like correlations. provides “data context” might immediately obvious visually. Phase 3: Semantic Generator (generate_description) Combines structural metadata statistical profile structured prompt LLM. returns JSON object containing WCAG-compliant short description (alt text) detailed long description.","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"https://matheus-hardt.github.io/unhcrreports/articles/ai-analysis-architecture.html","id":"generate_plot_story","dir":"Articles","previous_headings":"Three-Tier Architecture for AI Reporting","what":"generate_plot_story","title":"AI Analysis Architecture","text":"","code":"``` r library(ggplot2) p <- ggplot(mtcars, aes(x = wt, y = mpg)) +   geom_point() +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Vehicle Efficiency\",     subtitle = \"Fuel consumption vs weight\",     caption = \"Source: mtcars dataset\"   )  generate_plot_story(p, provider = \"ollama\", model = \"deepseek-r1\")  story <- generate_plot_story(p, provider = \"azure\", model = \"gpt-4.1-mini\", max_tokens = 300) # To use as subtitle: p + ggplot2::labs(subtitle = story)"},{"path":[]},{"path":"https://matheus-hardt.github.io/unhcrreports/articles/ai-analysis-architecture.html","id":"slugify","dir":"Articles","previous_headings":"Report Rendering","what":"slugify","title":"AI Analysis Architecture","text":"","code":"strings <- c(\"Café au Lait\", \"Niño Español\", \"Data_Science_Project\", \"--test--string--\") slugify(strings) #> [1] \"cafe-au-lait\"         \"nino-espanol\"         \"data-science-project\" #> [4] \"test-string\""},{"path":"https://matheus-hardt.github.io/unhcrreports/articles/ai-analysis-architecture.html","id":"generate-section-summary","dir":"Articles","previous_headings":"Report Rendering","what":"Generate Section Summary","title":"AI Analysis Architecture","text":"","code":"# generate_section_summary()"},{"path":"https://matheus-hardt.github.io/unhcrreports/articles/ai-analysis-architecture.html","id":"generate-report-summary","dir":"Articles","previous_headings":"Report Rendering","what":"Generate Report Summary","title":"AI Analysis Architecture","text":"","code":"# generate_report_summary()"},{"path":[]},{"path":"https://matheus-hardt.github.io/unhcrreports/articles/get-started.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Get Started","text":"unhcrreports automates creation humanitarian data reports combining: 1. Data & Plots: Using unhcrviz refugees data. 2. AI Analysis: Using LLMs (OpenAI, Azure, local models) interpret plots. 3. Quarto: render beautiful, interactive static HTML/PDF reports.","code":""},{"path":[]},{"path":"https://matheus-hardt.github.io/unhcrreports/articles/get-started.html","id":"installation","dir":"Articles","previous_headings":"Setup","what":"1. Installation","title":"Get Started","text":"","code":"# Install from GitHub remotes::install_github(\"matheus-hardt/unhcrreports\")"},{"path":"https://matheus-hardt.github.io/unhcrreports/articles/get-started.html","id":"api-keys","dir":"Articles","previous_headings":"Setup","what":"2. API Keys","title":"Get Started","text":"enable AI analysis, need set API keys environment (e.g., .Renviron). OpenAI: Azure OpenAI:","code":"Sys.setenv(OPENAI_API_KEY = \"sk-...\") Sys.setenv(   AZURE_OPENAI_ENDPOINT = \"https://your-resource.openai.azure.com/\",   AZURE_OPENAI_API_KEY = \"your-key\",   AZURE_OPENAI_API_VERSION = \"2023-05-15\" )"},{"path":"https://matheus-hardt.github.io/unhcrreports/articles/get-started.html","id":"generate-a-report","dir":"Articles","previous_headings":"","what":"Generate a Report","title":"Get Started","text":"main function generate_report(). can create report specific country region.","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/articles/get-started.html","id":"country-report","dir":"Articles","previous_headings":"Generate a Report","what":"Country Report","title":"Get Started","text":"","code":"library(unhcrreports)  # Generate a report for Brazil (BRA) for 2024 # Returns the path to the generated HTML file report_path <- generate_report(   type = \"country\",    name = \"BRA\",    year = 2024,   gp_provider = \"openai\", # or \"azure\", \"ollama\"   gp_model = \"gpt-4o-mini\" )"},{"path":"https://matheus-hardt.github.io/unhcrreports/articles/get-started.html","id":"region-report","dir":"Articles","previous_headings":"Generate a Report","what":"Region Report","title":"Get Started","text":"","code":"# Generate a report for The Americas report_path <- generate_report(   type = \"region\",    name = \"The Americas\",    year = 2024 )"},{"path":"https://matheus-hardt.github.io/unhcrreports/articles/get-started.html","id":"country-report-1","dir":"Articles","previous_headings":"Generate a Report","what":"Country Report","title":"Get Started","text":"Profile Report country: AFG Profile Report country: AGO Profile Report country: ARG Profile Report country: ARM Profile Report country: AUS Profile Report country: AUT Profile Report country: AZE Profile Report country: BDI Profile Report country: BEL Profile Report country: BFA Profile Report country: BGD Profile Report country: BIH Profile Report country: BLR Profile Report country: BRA Profile Report country: CAF Profile Report country: CAN Profile Report country: CHE Profile Report country: CHL Profile Report country: CHN Profile Report country: CIV Profile Report country: CMR Profile Report country: COD Profile Report country: COG Profile Report country: COL Profile Report country: CRI Profile Report country: CYP Profile Report country: CZE Profile Report country: DEU Profile Report country: DJI Profile Report country: DNK Profile Report country: DOM Profile Report country: DZA Profile Report country: ECU Profile Report country: EGY Profile Report country: ERI Profile Report country: ESP Profile Report country: EST Profile Report country: ETH Profile Report country: FRA Profile Report country: GBR Profile Report country: GEO Profile Report country: GHA Profile Report country: GIN Profile Report country: GRC Profile Report country: GTM Profile Report country: HKG Profile Report country: HND Profile Report country: HRV Profile Report country: HTI Profile Report country: IND Profile Report country: IRN Profile Report country: IRQ Profile Report country: ITA Profile Report country: JOR Profile Report country: KAZ Profile Report country: KEN Profile Report country: KWT Profile Report country: LBN Profile Report country: LBR Profile Report country: LBY Profile Report country: LKA Profile Report country: LVA Profile Report country: MEX Profile Report country: MLI Profile Report country: MMR Profile Report country: MOZ Profile Report country: MRT Profile Report country: MWI Profile Report country: MYS Profile Report country: NER Profile Report country: NGA Profile Report country: NLD Profile Report country: Profile Report country: NPL Profile Report country: PAK Profile Report country: PAN Profile Report country: PER Profile Report country: PHL Profile Report country: POL Profile Report country: RUS Profile Report country: RWA Profile Report country: SAU Profile Report country: SDN Profile Report country: SEN Profile Report country: SLE Profile Report country: SLV Profile Report country: SOM Profile Report country: SRB Profile Report country: SSD Profile Report country: SWE Profile Report country: SYR Profile Report country: TCD Profile Report country: THA Profile Report country: TUR Profile Report country: TZA Profile Report country: UGA Profile Report country: UKR Profile Report country: UNK Profile Report country: USA Profile Report country: UZB Profile Report country: VEN Profile Report country: VNM Profile Report country: YEM Profile Report country: ZAF Profile Report country: ZMB Profile Report country: ZWE","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/articles/get-started.html","id":"regional-report","dir":"Articles","previous_headings":"Generate a Report","what":"Regional Report","title":"Get Started","text":"Profile Report region: Americas Profile Report region: Asia Pacific Profile Report region: Southern Africa Profile Report region: Europe Profile Report region: Middle East North Africa Profile Report region: East Horn Africa Profile Report region: West Central Africa Profile Report region: NA","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Matheus Hardt. Author, maintainer. UNHCR. Copyright holder.","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Hardt M (2025). unhcrreports: Automated Displacement Statictics Analysis. R package version 0.0.0.9000, https://matheus-hardt.github.io/unhcrreports.","code":"@Manual{,   title = {unhcrreports: Automated Displacement Statictics Analysis},   author = {Matheus Hardt},   year = {2025},   note = {R package version 0.0.0.9000},   url = {https://matheus-hardt.github.io/unhcrreports}, }"},{"path":"https://matheus-hardt.github.io/unhcrreports/index.html","id":"unhcrreports-ai-powered-humanitarian-reporting-","dir":"","previous_headings":"","what":"Automated Displacement Statictics Analysis","title":"Automated Displacement Statictics Analysis","text":"[!IMPORTANT] Reporting Engine: package functions “Reporting Engine” UNHCR statistics. focuses orchestrating automated reports combining data, visualization, AI narratives. Graphics Source: standardized charts maps used reports built upon unhcrviz package, provides high-level API unhcrthemes. unhcrreports automates production analytical reports (Country Regional) : 1. Retrieving Data: Fetching latest official statistics via refugees package. 2. Visualizing Trends: Generating standardized plots using unhcrviz. 3. Generating Narratives: Using Large Language Models (LLMs) interpret data write context-aware insights. 4. Publishing: Compiling everything polished Quarto reports.","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Automated Displacement Statictics Analysis","text":"package built help {fusen}. can install GitHub :","code":"# Install from GitHub devtools::install_github(\"matheus-hardt/unhcrreports\")  # Install from local source devtools::install(\".\")"},{"path":"https://matheus-hardt.github.io/unhcrreports/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick Start","title":"Automated Displacement Statictics Analysis","text":"Generate full report single command:","code":"library(unhcrreports)  # Generate a Country Report (e.g., Brazil) generate_report(   type = \"country\",    name = \"BRA\",    year = 2024,   gp_provider = \"openai\", # or \"azure\", \"gemini\", \"ollama\"   gp_model = \"gpt-4o-mini\" )"},{"path":"https://matheus-hardt.github.io/unhcrreports/index.html","id":"ai-configuration","dir":"","previous_headings":"","what":"AI Configuration","title":"Automated Displacement Statictics Analysis","text":"enable AI-generated narratives, need set API key supported LLM provider.","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/index.html","id":"environment-setup","dir":"","previous_headings":"AI Configuration","what":"Environment Setup","title":"Automated Displacement Statictics Analysis","text":"Set API key environment variable .Renviron file session:","code":"# For Google Gemini Sys.setenv(GEMINI_API_KEY = \"your_api_key_here\")  # For OpenAI Sys.setenv(OPENAI_API_KEY = \"your_api_key_here\")  # For Anthropic Sys.setenv(ANTHROPIC_API_KEY = \"your_api_key_here\")  # For Azure OpenAI # Sys.setenv(AZURE_OPENAI_ENDPOINT = \"...\") # Sys.setenv(AZURE_OPENAI_API_KEY = \"...\")"},{"path":"https://matheus-hardt.github.io/unhcrreports/index.html","id":"local-llm-ollama","dir":"","previous_headings":"AI Configuration","what":"Local LLM (Ollama)","title":"Automated Displacement Statictics Analysis","text":"prefer run local model using Ollama: Install Ollama: Download ollama.com. Pull Model: bash     ollama pull qwen2.5:32b Run Report: Passing gp_provider = \"ollama\" gp_model = \"qwen2.5:32b\".","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/clean_llm_response.html","id":null,"dir":"Reference","previous_headings":"","what":"Clean LLM Response — clean_llm_response","title":"Clean LLM Response — clean_llm_response","text":"Remove thinking tags, markdown, artifacts LLM responses Useful Local Open Source Reasoning Small Language Model","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/clean_llm_response.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clean LLM Response — clean_llm_response","text":"","code":"clean_llm_response(response, keep_punctuation = TRUE)"},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/clean_llm_response.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clean LLM Response — clean_llm_response","text":"response Character string LLM response keep_punctuation boolean","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/clean_llm_response.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clean LLM Response — clean_llm_response","text":"Cleaned character string","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/clean_llm_response.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clean LLM Response — clean_llm_response","text":"","code":"response <- \"<think> First, I'm a humanitarian data visualization expert. My role includes extracting insights from visualizations, creating accessible narratives, highlighting patterns relevant to aid efforts, using clear language with emotional resonance. Aligning with constraints: Use plain language, be concise and impactful. Don't rehash every detail; build narrative depth around 2 key insights maximum in under 30 tokens. <\/think> This visualization tracks a relationship potentially critical for humanitarian logistics: higher fuel consumption versus increased weight. 车辆设计\" clean_llm_response(response) #> [1] \"This visualization tracks a relationship potentially critical for humanitarian logistics: higher fuel consumption versus increased weight.\""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/extract_structure.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Plot Structure and Metadata (Phase 1) — extract_structure","title":"Extract Plot Structure and Metadata (Phase 1) — extract_structure","text":"function implements Phase 1 AI reporting architecture. extracts visual metadata ggplot object forcing render build. Unlike simple label extraction, captures \"trained\" ranges legend mappings actually displayed user.","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/extract_structure.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Plot Structure and Metadata (Phase 1) — extract_structure","text":"","code":"extract_structure(p)"},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/extract_structure.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Plot Structure and Metadata (Phase 1) — extract_structure","text":"p ggplot object.","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/extract_structure.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Plot Structure and Metadata (Phase 1) — extract_structure","text":"list containing: labels Title, subtitle, caption, axis labels. ranges Exact x y ranges panel (trained). guides Mapping visuals (color/shape) data values. geoms List geometric layers used.","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_description.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Plot Description with AI (Phase 3) — generate_description","title":"Generate Plot Description with AI (Phase 3) — generate_description","text":"function implements Phase 3 AI reporting architecture. serves \"Semantic Generator,\" combining structure statistics prompt LLM structured description.","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_description.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Plot Description with AI (Phase 3) — generate_description","text":"","code":"generate_description(   structure,   stats,   provider = NULL,   model = NULL,   max_tokens = 500 )"},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_description.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Plot Description with AI (Phase 3) — generate_description","text":"structure Metadata list returned extract_structure. stats Statistical profile returned profile_data. provider LLM provider (e.g., \"openai\", \"azure\", \"anthropic\"). model specific model use. max_tokens Maximum token limit response.","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_description.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Plot Description with AI (Phase 3) — generate_description","text":"list containing: short_desc concise, WCAG-compliant alt text string. long_desc detailed analytical description visualization.","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_plot_story.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Humanitarian Data Story from ggplot — generate_plot_story","title":"Generate Humanitarian Data Story from ggplot — generate_plot_story","text":"function takes ggplot2 object generates storytelling narrative. now uses modular architecture (extract_structure, profile_data, generate_description).","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_plot_story.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Humanitarian Data Story from ggplot — generate_plot_story","text":"","code":"generate_plot_story(   plot,   max_tokens = 300,   provider = NULL,   model = NULL,   clean_response = TRUE )"},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_plot_story.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Humanitarian Data Story from ggplot — generate_plot_story","text":"plot ggplot object. max_tokens Max tokens description. provider LLM provider. model LLM model. clean_response Deprecated. Response now structured JSON.","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_plot_story.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Humanitarian Data Story from ggplot — generate_plot_story","text":"list containing $short_desc $long_desc.","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_plot_story.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Humanitarian Data Story from ggplot — generate_plot_story","text":"","code":"library(ggplot2) p <- ggplot(mtcars, aes(x = wt, y = mpg)) +   geom_point() +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Vehicle Efficiency\",     subtitle = \"Fuel consumption vs weight\",     caption = \"Source: mtcars dataset\"   )  generate_plot_story(p, provider = \"ollama\", model = \"deepseek-r1\") #> Error in ellmer::chat_ollama(model = model, system_prompt = system_prompt): Can't find locally running ollama.  story <- generate_plot_story(p, provider = \"azure\", model = \"gpt-4.1-mini\", max_tokens = 300) #> Error in ellmer::chat_azure_openai(system_prompt = system_prompt, model = model,     api_version = azure_version, endpoint = azure_endpoint, api_key = azure_key,     type = \"json_object\"): unused argument (type = \"json_object\") # To use as subtitle: p + ggplot2::labs(subtitle = story) #> Error: object 'story' not found"},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_report.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Quarto HTML / PDF Country Factsheets in Batch — generate_report","title":"Generate Quarto HTML / PDF Country Factsheets in Batch — generate_report","text":"function renders 'Country_Factsheet' Quarto template list countries, generating report file .","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_report.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Quarto HTML / PDF Country Factsheets in Batch — generate_report","text":"","code":"generate_report(   type = \"country\",   year = 2024,   name = NULL,   gp_provider = \"azure\",   gp_model = \"gpt-4.1-mini\" )"},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_report.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Quarto HTML / PDF Country Factsheets in Batch — generate_report","text":"type either donor recipient destination. year year name name  donor recipient destination NULL batch process gp_provider instance \"azure\" gp_model instance \"gpt-4.1-mini\"","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_report.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Quarto HTML / PDF Country Factsheets in Batch — generate_report","text":"links genrated reports.","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_report.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Quarto HTML / PDF Country Factsheets in Batch — generate_report","text":"","code":"# unhcrreports::generate_report(type = \"country\", name = \"BRA\", gp_provider =\"azure\", gp_model = \"gpt-4.1-mini\" ) # linkcountryreport <- generate_report(type = \"country\" ) # dput(linkcountryreport )  linkcountryreport <- c(   \"[Profile Report for country: AFG](../reports/Analysis-country-afg-2024-report.html)\",   \"[Profile Report for country: AGO](../reports/Analysis-country-ago-2024-report.html)\",   \"[Profile Report for country: ARG](../reports/Analysis-country-arg-2024-report.html)\",   \"[Profile Report for country: ARM](../reports/Analysis-country-arm-2024-report.html)\",   \"[Profile Report for country: AUS](../reports/Analysis-country-aus-2024-report.html)\",   \"[Profile Report for country: AUT](../reports/Analysis-country-aut-2024-report.html)\",   \"[Profile Report for country: AZE](../reports/Analysis-country-aze-2024-report.html)\",   \"[Profile Report for country: BDI](../reports/Analysis-country-bdi-2024-report.html)\",   \"[Profile Report for country: BEL](../reports/Analysis-country-bel-2024-report.html)\",   \"[Profile Report for country: BFA](../reports/Analysis-country-bfa-2024-report.html)\",   \"[Profile Report for country: BGD](../reports/Analysis-country-bgd-2024-report.html)\",   \"[Profile Report for country: BIH](../reports/Analysis-country-bih-2024-report.html)\",   \"[Profile Report for country: BLR](../reports/Analysis-country-blr-2024-report.html)\",   \"[Profile Report for country: BRA](../reports/Analysis-country-bra-2024-report.html)\",   \"[Profile Report for country: CAF](../reports/Analysis-country-caf-2024-report.html)\",   \"[Profile Report for country: CAN](../reports/Analysis-country-can-2024-report.html)\",   \"[Profile Report for country: CHE](../reports/Analysis-country-che-2024-report.html)\",   \"[Profile Report for country: CHL](../reports/Analysis-country-chl-2024-report.html)\",   \"[Profile Report for country: CHN](../reports/Analysis-country-chn-2024-report.html)\",   \"[Profile Report for country: CIV](../reports/Analysis-country-civ-2024-report.html)\",   \"[Profile Report for country: CMR](../reports/Analysis-country-cmr-2024-report.html)\",   \"[Profile Report for country: COD](../reports/Analysis-country-cod-2024-report.html)\",   \"[Profile Report for country: COG](../reports/Analysis-country-cog-2024-report.html)\",   \"[Profile Report for country: COL](../reports/Analysis-country-col-2024-report.html)\",   \"[Profile Report for country: CRI](../reports/Analysis-country-cri-2024-report.html)\",   \"[Profile Report for country: CYP](../reports/Analysis-country-cyp-2024-report.html)\",   \"[Profile Report for country: CZE](../reports/Analysis-country-cze-2024-report.html)\",   \"[Profile Report for country: DEU](../reports/Analysis-country-deu-2024-report.html)\",   \"[Profile Report for country: DJI](../reports/Analysis-country-dji-2024-report.html)\",   \"[Profile Report for country: DNK](../reports/Analysis-country-dnk-2024-report.html)\",   \"[Profile Report for country: DOM](../reports/Analysis-country-dom-2024-report.html)\",   \"[Profile Report for country: DZA](../reports/Analysis-country-dza-2024-report.html)\",   \"[Profile Report for country: ECU](../reports/Analysis-country-ecu-2024-report.html)\",   \"[Profile Report for country: EGY](../reports/Analysis-country-egy-2024-report.html)\",   \"[Profile Report for country: ERI](../reports/Analysis-country-eri-2024-report.html)\",   \"[Profile Report for country: ESP](../reports/Analysis-country-esp-2024-report.html)\",   \"[Profile Report for country: EST](../reports/Analysis-country-est-2024-report.html)\",   \"[Profile Report for country: ETH](../reports/Analysis-country-eth-2024-report.html)\",   \"[Profile Report for country: FRA](../reports/Analysis-country-fra-2024-report.html)\",   \"[Profile Report for country: GBR](../reports/Analysis-country-gbr-2024-report.html)\",   \"[Profile Report for country: GEO](../reports/Analysis-country-geo-2024-report.html)\",   \"[Profile Report for country: GHA](../reports/Analysis-country-gha-2024-report.html)\",   \"[Profile Report for country: GIN](../reports/Analysis-country-gin-2024-report.html)\",   \"[Profile Report for country: GRC](../reports/Analysis-country-grc-2024-report.html)\",   \"[Profile Report for country: GTM](../reports/Analysis-country-gtm-2024-report.html)\",   \"[Profile Report for country: HKG](../reports/Analysis-country-hkg-2024-report.html)\",   \"[Profile Report for country: HND](../reports/Analysis-country-hnd-2024-report.html)\",   \"[Profile Report for country: HRV](../reports/Analysis-country-hrv-2024-report.html)\",   \"[Profile Report for country: HTI](../reports/Analysis-country-hti-2024-report.html)\",   \"[Profile Report for country: IND](../reports/Analysis-country-ind-2024-report.html)\",   \"[Profile Report for country: IRN](../reports/Analysis-country-irn-2024-report.html)\",   \"[Profile Report for country: IRQ](../reports/Analysis-country-irq-2024-report.html)\",   \"[Profile Report for country: ITA](../reports/Analysis-country-ita-2024-report.html)\",   \"[Profile Report for country: JOR](../reports/Analysis-country-jor-2024-report.html)\",   \"[Profile Report for country: KAZ](../reports/Analysis-country-kaz-2024-report.html)\",   \"[Profile Report for country: KEN](../reports/Analysis-country-ken-2024-report.html)\",   \"[Profile Report for country: KWT](../reports/Analysis-country-kwt-2024-report.html)\",   \"[Profile Report for country: LBN](../reports/Analysis-country-lbn-2024-report.html)\",   \"[Profile Report for country: LBR](../reports/Analysis-country-lbr-2024-report.html)\",   \"[Profile Report for country: LBY](../reports/Analysis-country-lby-2024-report.html)\",   \"[Profile Report for country: LKA](../reports/Analysis-country-lka-2024-report.html)\",   \"[Profile Report for country: LVA](../reports/Analysis-country-lva-2024-report.html)\",   \"[Profile Report for country: MEX](../reports/Analysis-country-mex-2024-report.html)\",   \"[Profile Report for country: MLI](../reports/Analysis-country-mli-2024-report.html)\",   \"[Profile Report for country: MMR](../reports/Analysis-country-mmr-2024-report.html)\",   \"[Profile Report for country: MOZ](../reports/Analysis-country-moz-2024-report.html)\",   \"[Profile Report for country: MRT](../reports/Analysis-country-mrt-2024-report.html)\",   \"[Profile Report for country: MWI](../reports/Analysis-country-mwi-2024-report.html)\",   \"[Profile Report for country: MYS](../reports/Analysis-country-mys-2024-report.html)\",   \"[Profile Report for country: NER](../reports/Analysis-country-ner-2024-report.html)\",   \"[Profile Report for country: NGA](../reports/Analysis-country-nga-2024-report.html)\",   \"[Profile Report for country: NLD](../reports/Analysis-country-nld-2024-report.html)\",   \"[Profile Report for country: NOR](../reports/Analysis-country-nor-2024-report.html)\",   \"[Profile Report for country: NPL](../reports/Analysis-country-npl-2024-report.html)\",   \"[Profile Report for country: PAK](../reports/Analysis-country-pak-2024-report.html)\",   \"[Profile Report for country: PAN](../reports/Analysis-country-pan-2024-report.html)\",   \"[Profile Report for country: PER](../reports/Analysis-country-per-2024-report.html)\",   \"[Profile Report for country: PHL](../reports/Analysis-country-phl-2024-report.html)\",   \"[Profile Report for country: POL](../reports/Analysis-country-pol-2024-report.html)\",   \"[Profile Report for country: RUS](../reports/Analysis-country-rus-2024-report.html)\",   \"[Profile Report for country: RWA](../reports/Analysis-country-rwa-2024-report.html)\",   \"[Profile Report for country: SAU](../reports/Analysis-country-sau-2024-report.html)\",   \"[Profile Report for country: SDN](../reports/Analysis-country-sdn-2024-report.html)\",   \"[Profile Report for country: SEN](../reports/Analysis-country-sen-2024-report.html)\",   \"[Profile Report for country: SLE](../reports/Analysis-country-sle-2024-report.html)\",   \"[Profile Report for country: SLV](../reports/Analysis-country-slv-2024-report.html)\",   \"[Profile Report for country: SOM](../reports/Analysis-country-som-2024-report.html)\",   \"[Profile Report for country: SRB](../reports/Analysis-country-srb-2024-report.html)\",   \"[Profile Report for country: SSD](../reports/Analysis-country-ssd-2024-report.html)\",   \"[Profile Report for country: SWE](../reports/Analysis-country-swe-2024-report.html)\",   \"[Profile Report for country: SYR](../reports/Analysis-country-syr-2024-report.html)\",   \"[Profile Report for country: TCD](../reports/Analysis-country-tcd-2024-report.html)\",   \"[Profile Report for country: THA](../reports/Analysis-country-tha-2024-report.html)\",   \"[Profile Report for country: TUR](../reports/Analysis-country-tur-2024-report.html)\",   \"[Profile Report for country: TZA](../reports/Analysis-country-tza-2024-report.html)\",   \"[Profile Report for country: UGA](../reports/Analysis-country-uga-2024-report.html)\",   \"[Profile Report for country: UKR](../reports/Analysis-country-ukr-2024-report.html)\",   \"[Profile Report for country: UNK](../reports/Analysis-country-unk-2024-report.html)\",   \"[Profile Report for country: USA](../reports/Analysis-country-usa-2024-report.html)\",   \"[Profile Report for country: UZB](../reports/Analysis-country-uzb-2024-report.html)\",   \"[Profile Report for country: VEN](../reports/Analysis-country-ven-2024-report.html)\",   \"[Profile Report for country: VNM](../reports/Analysis-country-vnm-2024-report.html)\",   \"[Profile Report for country: YEM](../reports/Analysis-country-yem-2024-report.html)\",   \"[Profile Report for country: ZAF](../reports/Analysis-country-zaf-2024-report.html)\",   \"[Profile Report for country: ZMB](../reports/Analysis-country-zmb-2024-report.html)\",   \"[Profile Report for country: ZWE](../reports/Analysis-country-zwe-2024-report.html)\" ) # linkregionalreport <- generate_report(type = \"region\") # dput(linkregionalreport) linkregionalreport <- c(   \"[Profile Report for region: The Americas](../reports/Analysis-region-the-americas-2024-report.html)\",   \"[Profile Report for region: Asia and the Pacific](../reports/Analysis-region-asia-and-the-pacific-2024-report.html)\",   \"[Profile Report for region: Southern Africa](../reports/Analysis-region-southern-africa-2024-report.html)\",   \"[Profile Report for region: Europe](../reports/Analysis-region-europe-2024-report.html)\",   \"[Profile Report for region: Middle East and North Africa](../reports/Analysis-region-middle-east-and-north-africa-2024-report.html)\",   \"[Profile Report for region: East and Horn of Africa](../reports/Analysis-region-east-and-horn-of-africa-2024-report.html)\",   \"[Profile Report for region: West and Central Africa](../reports/Analysis-region-west-and-central-africa-2024-report.html)\",   \"[Profile Report for region: NA](../reports/Analysis-region-NA-2024-report.html)\" )"},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_report_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Report Executive Summary — generate_report_summary","title":"Generate Report Executive Summary — generate_report_summary","text":"Aggregates section summaries final executive summary.","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_report_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Report Executive Summary — generate_report_summary","text":"","code":"generate_report_summary(   section_summaries,   country_name,   year,   provider = NULL,   model = NULL,   max_tokens = 400 )"},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_report_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Report Executive Summary — generate_report_summary","text":"section_summaries named list character vector section summaries. country_name Name country. year Year report. provider Optional provider. model Optional model. max_tokens Max tokens.","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_report_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Report Executive Summary — generate_report_summary","text":"character string containing executive summary.","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_report_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Report Executive Summary — generate_report_summary","text":"","code":"if (FALSE) { # \\dontrun{ sections <- list(\"Population\" = \"Summary...\", \"Asylum\" = \"Summary...\") report_summary <- generate_report_summary(sections, \"Colombia\", 2022) } # } # generate_report_summary()"},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_section_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Section Summary from Plot Stories — generate_section_summary","title":"Generate Section Summary from Plot Stories — generate_section_summary","text":"Aggregates individual plot stories cohesive section summary.","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_section_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Section Summary from Plot Stories — generate_section_summary","text":"","code":"generate_section_summary(   stories,   section_name,   provider = NULL,   model = NULL,   max_tokens = 400 )"},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_section_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Section Summary from Plot Stories — generate_section_summary","text":"stories character vector stories generated plots within section. section_name title section (e.g., \"Population Overview\"). provider Optional provider (openai, gemini, anthropic). Auto-detected NULL. model Optional model name. max_tokens Max tokens summary.","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_section_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Section Summary from Plot Stories — generate_section_summary","text":"character string containing section summary.","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/generate_section_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Section Summary from Plot Stories — generate_section_summary","text":"","code":"if (FALSE) { # \\dontrun{ stories <- c(\"Story 1...\", \"Story 2...\") summary <- generate_section_summary(stories, \"Population\") } # } # generate_section_summary()"},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/profile_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Profile Plot Data (Phase 2) — profile_data","title":"Profile Plot Data (Phase 2) — profile_data","text":"function implements Phase 2 AI reporting architecture. generates statistical profile data used plot provide context AI.","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/profile_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Profile Plot Data (Phase 2) — profile_data","text":"","code":"profile_data(p)"},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/profile_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Profile Plot Data (Phase 2) — profile_data","text":"p ggplot object.","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/profile_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Profile Plot Data (Phase 2) — profile_data","text":"list containing: distributions skim_df object summarizing mapped variables. correlations list correlation coefficients (applicable).","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/profile_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Profile Plot Data (Phase 2) — profile_data","text":"performs two main tasks: Distribution Analysis: Uses skimr::skim() summarize variables mapped plot. Correlation Check: scatterplots (geom_point), calculates Pearson correlations help AI identify relationships.","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/slugify.html","id":null,"dir":"Reference","previous_headings":"","what":"slugify — slugify","title":"slugify — slugify","text":"Convert string slug","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/slugify.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"slugify — slugify","text":"","code":"slugify(x)"},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/slugify.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"slugify — slugify","text":"x string","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/slugify.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"slugify — slugify","text":"slugified string","code":""},{"path":"https://matheus-hardt.github.io/unhcrreports/reference/slugify.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"slugify — slugify","text":"","code":"strings <- c(\"Café au Lait\", \"Niño Español\", \"Data_Science_Project\", \"--test--string--\") slugify(strings) #> [1] \"cafe-au-lait\"         \"nino-espanol\"         \"data-science-project\" #> [4] \"test-string\""}]
